# ğŸš€ è°ƒè¯•å¿«é€Ÿå¼€å§‹æŒ‡å—

**âœ… é¡¹ç›®å·²é…ç½®å®Œæ•´çš„VSCodeè°ƒè¯•ç¯å¢ƒï¼Œ5åˆ†é’Ÿå³å¯ä¸Šæ‰‹ï¼**

## ğŸ“‹ å‰ç½®æ¡ä»¶

- âœ… VSCode å·²å®‰è£…
- âœ… é¡¹ç›®ä¾èµ–å·²å®‰è£… (`pnpm install`)
- âœ… MySQL æœåŠ¡å·²å¯åŠ¨
- âœ… ç¯å¢ƒå˜é‡å·²é…ç½® (`.env` æ–‡ä»¶)

## ğŸ¯ 6ç§è°ƒè¯•é…ç½®

| é…ç½®åç§°                   | ç”¨é€”         | ç«¯å£ | æ¨èåœºæ™¯      |
| -------------------------- | ------------ | ---- | ------------- |
| **è°ƒè¯•APIè¯·æ±‚**            | è°ƒè¯•APIæ¥å£  | 3001 | â­ **æœ€å¸¸ç”¨** |
| **è°ƒè¯•å½“å‰æµ‹è¯•æ–‡ä»¶**       | è°ƒè¯•æµ‹è¯•ç”¨ä¾‹ | -    | æµ‹è¯•å¼€å‘      |
| **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**         | æ—¥å¸¸å¼€å‘     | 3001 | ä¸éœ€è¦æ–­ç‚¹    |
| **è¿è¡Œæµ‹è¯•**               | æŸ¥çœ‹æµ‹è¯•ç»“æœ | -    | å¿«é€ŸéªŒè¯      |
| **è°ƒè¯•ç‰¹å®šæµ‹è¯•**           | è°ƒè¯•å•ä¸ªæµ‹è¯• | -    | ç²¾ç¡®è°ƒè¯•      |
| **è°ƒè¯•æµ‹è¯•æ–‡ä»¶ (ä½¿ç”¨npx)** | å¤‡ç”¨æµ‹è¯•è°ƒè¯• | -    | Jesté—®é¢˜å¤‡ç”¨  |

## ğŸš€ 3åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### æ­¥éª¤1: è®¾ç½®æ–­ç‚¹

1. æ‰“å¼€ `src/controllers/timeController.ts`
2. åœ¨ç¬¬6è¡Œå·¦ä¾§ç‚¹å‡»è®¾ç½®æ–­ç‚¹ï¼ˆçº¢è‰²åœ†ç‚¹ï¼‰

```typescript
export const getServerTime = (req: Request, res: Response) => {
	const response: ApiResponse = {
		// â† åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹
		success: true,
		message: 'è·å–æœåŠ¡å™¨æ—¶é—´æˆåŠŸ',
		// ...
	};
	res.json(response);
};
```

### æ­¥éª¤2: å¯åŠ¨è°ƒè¯•

1. æŒ‰ `F5` æˆ–ç‚¹å‡»å·¦ä¾§è°ƒè¯•é¢æ¿çš„æ’­æ”¾æŒ‰é’®
2. é€‰æ‹© **"è°ƒè¯•APIè¯·æ±‚"** é…ç½®
3. ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨ï¼ˆçœ‹åˆ° "Server running on port 3001"ï¼‰

### æ­¥éª¤3: è§¦å‘æ–­ç‚¹

1. æ‰“å¼€æµè§ˆå™¨æˆ–Postman
2. è®¿é—® `http://localhost:3001/api/time/time`
3. æ–­ç‚¹ä¼šè‡ªåŠ¨æš‚åœæ‰§è¡Œï¼

### æ­¥éª¤4: å¼€å§‹è°ƒè¯•

- âœ… æŸ¥çœ‹å˜é‡å€¼
- âœ… ä½¿ç”¨è°ƒè¯•å·¥å…·æ ï¼ˆç»§ç»­ã€å•æ­¥ã€è·³å‡ºç­‰ï¼‰
- âœ… åœ¨è°ƒè¯•æ§åˆ¶å°æ‰§è¡Œä»£ç 
- âœ… æŸ¥çœ‹è°ƒç”¨æ ˆ

## ğŸ§ª æµ‹è¯•è°ƒè¯•ç¤ºä¾‹

### è°ƒè¯•æµ‹è¯•æ–‡ä»¶

1. **æ‰“å¼€æµ‹è¯•æ–‡ä»¶**: `tests/api.test.ts`
2. **è®¾ç½®æ–­ç‚¹**: åœ¨æµ‹è¯•ä»£ç ä¸­è®¾ç½®æ–­ç‚¹
3. **å¯åŠ¨è°ƒè¯•**: é€‰æ‹© "è°ƒè¯•å½“å‰æµ‹è¯•æ–‡ä»¶" é…ç½®
4. **æŸ¥çœ‹ç»“æœ**: æ–­ç‚¹ä¼šåœ¨æµ‹è¯•æ‰§è¡Œæ—¶æš‚åœ

### è°ƒè¯•ç‰¹å®šæµ‹è¯•

1. **è®¾ç½®æ–­ç‚¹**: åœ¨æµ‹è¯•ä»£ç ä¸­è®¾ç½®æ–­ç‚¹
2. **å¯åŠ¨è°ƒè¯•**: é€‰æ‹© "è°ƒè¯•ç‰¹å®šæµ‹è¯•" é…ç½®
3. **è¾“å…¥æµ‹è¯•åç§°**: ä¾‹å¦‚ "åº”è¯¥è¿”å›APIåŸºæœ¬ä¿¡æ¯"
4. **æŸ¥çœ‹ç»“æœ**: åªæœ‰æŒ‡å®šçš„æµ‹è¯•ä¼šè¿è¡Œ

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### âŒ é—®é¢˜1: æ–­ç‚¹ä¸ç”Ÿæ•ˆ

**åŸå› **: é€‰æ‹©äº†é”™è¯¯çš„è°ƒè¯•é…ç½®
**è§£å†³**:

- APIè°ƒè¯• â†’ ä½¿ç”¨ "è°ƒè¯•APIè¯·æ±‚"
- æµ‹è¯•è°ƒè¯• â†’ ä½¿ç”¨ "è°ƒè¯•å½“å‰æµ‹è¯•æ–‡ä»¶"

### âŒ é—®é¢˜2: ç«¯å£å†²çª

**åŸå› **: ç«¯å£3001è¢«å ç”¨
**è§£å†³**:

```bash
kill -9 $(lsof -t -i:3001)
```

### âŒ é—®é¢˜3: Jestè°ƒè¯•å¤±è´¥

**åŸå› **: Jestè·¯å¾„æˆ–é…ç½®é—®é¢˜
**è§£å†³**:

- ä½¿ç”¨ "è°ƒè¯•æµ‹è¯•æ–‡ä»¶ (ä½¿ç”¨npx)" é…ç½®
- ç¡®ä¿ä¾èµ–å·²å®‰è£…ï¼š`pnpm install`

### âŒ é—®é¢˜4: æ–­ç‚¹ä½ç½®ä¸å‡†ç¡®

**åŸå› **: Source Mapé…ç½®é—®é¢˜
**è§£å†³**:

- ç¡®ä¿ `"sourceMaps": true` å·²è®¾ç½®
- é‡å¯è°ƒè¯•ä¼šè¯

## ğŸ› ï¸ è°ƒè¯•æŠ€å·§

### æ–­ç‚¹ç±»å‹

- **æ™®é€šæ–­ç‚¹**: ç‚¹å‡»ä»£ç è¡Œå·¦ä¾§è®¾ç½®
- **æ¡ä»¶æ–­ç‚¹**: å³é”®æ–­ç‚¹ â†’ "ç¼–è¾‘æ–­ç‚¹" â†’ è®¾ç½®æ¡ä»¶
- **æ—¥å¿—æ–­ç‚¹**: å³é”®æ–­ç‚¹ â†’ "ç¼–è¾‘æ–­ç‚¹" â†’ å‹¾é€‰"è®°å½•æ¶ˆæ¯"

### è°ƒè¯•é¢æ¿åŠŸèƒ½

- **å˜é‡**: æŸ¥çœ‹å½“å‰ä½œç”¨åŸŸçš„æ‰€æœ‰å˜é‡
- **ç›‘è§†**: æ·»åŠ è¦ç›‘è§†çš„è¡¨è¾¾å¼
- **è°ƒç”¨æ ˆ**: æŸ¥çœ‹å‡½æ•°è°ƒç”¨é“¾
- **æ–­ç‚¹**: ç®¡ç†æ‰€æœ‰æ–­ç‚¹

### è°ƒè¯•æ§åˆ¶å°

- åœ¨æš‚åœçŠ¶æ€ä¸‹å¯ä»¥æ‰§è¡Œä»£ç ç‰‡æ®µ
- æŸ¥çœ‹å˜é‡å€¼ï¼šè¾“å…¥å˜é‡å
- è°ƒç”¨å‡½æ•°ï¼š`functionName()`

## ğŸ“ è°ƒè¯•æœ€ä½³å®è·µ

1. **é€‰æ‹©åˆé€‚çš„é…ç½®**: æ ¹æ®è°ƒè¯•éœ€æ±‚é€‰æ‹©å¯¹åº”çš„é…ç½®
2. **è®¾ç½®å…³é”®æ–­ç‚¹**: åœ¨å…³é”®é€»è¾‘å¤„è®¾ç½®æ–­ç‚¹
3. **ä½¿ç”¨æ¡ä»¶æ–­ç‚¹**: åœ¨å¾ªç¯æˆ–é‡å¤è°ƒç”¨ä¸­è®¾ç½®æ¡ä»¶
4. **æŸ¥çœ‹è°ƒç”¨æ ˆ**: åˆ©ç”¨è°ƒç”¨æ ˆç†è§£ä»£ç æ‰§è¡Œæµç¨‹
5. **ä½¿ç”¨ç›‘è§†**: æ·»åŠ å¤æ‚è¡¨è¾¾å¼åˆ°ç›‘è§†é¢æ¿
6. **æ—¥å¿—ç»“åˆ**: ç»“åˆæ—¥å¿—å’Œæ–­ç‚¹è¿›è¡Œè°ƒè¯•

## ğŸ¯ å®é™…è°ƒè¯•åœºæ™¯

### åœºæ™¯1: APIæ¥å£è°ƒè¯•

```typescript
// åœ¨æ§åˆ¶å™¨ä¸­è®¾ç½®æ–­ç‚¹
export const createUser = async (req: Request, res: Response) => {
	// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹è¯·æ±‚æ•°æ®
	const { username, email } = req.body;

	try {
		const user = await UserService.createUser(username, email);
		// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹è¿”å›ç»“æœ
		res.status(201).json(response);
	} catch (error) {
		// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
		res.status(500).json(response);
	}
};
```

### åœºæ™¯2: æ•°æ®åº“æŸ¥è¯¢è°ƒè¯•

```typescript
// åœ¨æ¨¡å‹å±‚è®¾ç½®æ–­ç‚¹
static async findAll(page: number = 1, limit: number = 10) {
	const offset = (page - 1) * limit;

	// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹æŸ¥è¯¢å‚æ•°
	const [countResult] = await pool.execute(
		'SELECT COUNT(*) as total FROM users'
	);

	// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹æŸ¥è¯¢ç»“æœ
	const total = (countResult as any)[0].total;
	return { users: rows as User[], total };
}
```

### åœºæ™¯3: æµ‹è¯•è°ƒè¯•

```typescript
// åœ¨æµ‹è¯•æ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹
describe('POST /api/users', () => {
	it('åº”è¯¥åˆ›å»ºæ–°ç”¨æˆ·', async () => {
		const userData = {
			username: 'testuser',
			email: 'test@example.com',
		};

		// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹æµ‹è¯•æ•°æ®
		const response = await request(app)
			.post('/api/users')
			.send(userData)
			.expect(201);

		// åœ¨è¿™é‡Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹å“åº”ç»“æœ
		expect(response.body.success).toBe(true);
	});
});
```

## ğŸ“š æ›´å¤šèµ„æº

- ğŸ“– **è¯¦ç»†è°ƒè¯•æŒ‡å—**: [DEVELOPMENT.md](DEVELOPMENT.md)
- ğŸ”§ **é¡¹ç›®é…ç½®**: [README.md](../README.md)
- ğŸ§ª **æµ‹è¯•æŒ‡å—**: [DEVELOPMENT.md](DEVELOPMENT.md#æµ‹è¯•è§„èŒƒ)

---

**ğŸ‰ ç°åœ¨ä½ å·²ç»æŒæ¡äº†è°ƒè¯•çš„åŸºæœ¬æŠ€èƒ½ï¼å¼€å§‹ä½ çš„è°ƒè¯•ä¹‹æ—…å§ï¼**
